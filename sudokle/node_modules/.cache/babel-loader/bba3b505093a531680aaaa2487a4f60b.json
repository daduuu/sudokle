{"ast":null,"code":"var _jsxFileName = \"/Users/daviddu/Desktop/sudokle/sudokle/src/SignUp.js\";\nimport React, { Component } from 'react';\nimport { Link, Navigate } from \"react-router-dom\";\nimport './App.css';\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\nimport { EMAIL, LOGIN, setEMAIL, setLOGIN, setSOLVED, setTIME } from './globals';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SignUp extends Component {\n  constructor(props) {\n    super(props);\n\n    this.createUser = async () => {\n      try {\n        let res = await fetch('/api/sudokleQueries/addUser', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            userEmail: this.state.email,\n            pass: this.state.password\n          })\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.fetchUsers = async () => {\n      const response = await fetch('/api/sudokleQueries/getUsers');\n      const body = response.json();\n      return body;\n    };\n\n    this.handleSort = async () => {\n      console.log(\"hi\");\n      this.fetchUsers().then(res => this.setState({\n        users: res\n      })).catch(err => console.log(err));\n    };\n\n    this.ShowSignUp = () => /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"loginform\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Email:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: this.state.email,\n              onChange: this.handleChange,\n              placeholder: \"example@gmail.com\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Password:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: this.state.password,\n              onChange: this.handlePChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Confirm Password:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              value: this.state.confirm,\n              onChange: this.handleCChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"submitbtn\",\n              type: \"submit\",\n              value: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this);\n\n    this.state = {\n      email: '',\n      password: '',\n      confirm: '',\n      users: this.handleSort()\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlePChange = this.handlePChange.bind(this);\n    this.handleCChange = this.handleCChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.interval = setInterval(() => this.setState({}), 1000);\n    console.log(\"hi\");\n    this.fetchUsers().then(res => this.setState({\n      users: res\n    })).catch(err => console.log(err));\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  handleChange(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  handlePChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  handleCChange(event) {\n    this.setState({\n      confirm: event.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    console.log(this.state.users);\n    event.preventDefault();\n\n    if (this.state.email == '') {\n      alert('Email input required');\n    } else if (this.state.password == '') {\n      alert('Password input required');\n    } else if (this.state.password != this.state.confirm) {\n      alert('Confirm password does not match Password');\n    } else {\n      const found = this.state.users.some(element => {\n        if (element.userEmail == this.state.email) {\n          return true;\n        }\n\n        return false;\n      });\n\n      if (found) {\n        alert('Email is already in use');\n      } else {\n        this.createUser();\n        setEMAIL(this.state.email);\n        setLOGIN(true);\n        setSOLVED(false);\n        setTIME(0);\n      }\n    }\n  }\n\n  // ShowHomeButton = () => (\n  //     <header className=\"App-header\">\n  //       <h1>Welcome {EMAIL}</h1>\n  //     <Button id=\"playbtn\">\n  //           <Link to=\"/\" id=\"playLink\">\n  //               Go back Home\n  //           </Link>\n  //     </Button>\n  //     </header>\n  // );\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: LOGIN ? /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(this.ShowSignUp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 41\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default SignUp;","map":{"version":3,"names":["React","Component","Link","Navigate","Container","Row","Col","Button","EMAIL","LOGIN","setEMAIL","setLOGIN","setSOLVED","setTIME","SignUp","constructor","props","createUser","res","fetch","method","headers","body","JSON","stringify","userEmail","state","email","pass","password","e","console","log","fetchUsers","response","json","handleSort","then","setState","users","catch","err","ShowSignUp","handleSubmit","handleChange","handlePChange","confirm","handleCChange","bind","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","event","target","value","preventDefault","alert","found","some","element","render"],"sources":["/Users/daviddu/Desktop/sudokle/sudokle/src/SignUp.js"],"sourcesContent":["import React, { Component } from 'react';\nimport {Link, Navigate} from \"react-router-dom\";\n\nimport './App.css';\nimport {Container, Row, Col, Button} from \"react-bootstrap\";\nimport {EMAIL, LOGIN, setEMAIL, setLOGIN, setSOLVED, setTIME} from './globals';\n\n\nclass SignUp extends Component {\n  constructor(props){\n      super(props);\n      this.state = {\n          email: '',\n          password: '',\n          confirm: '',\n          users: this.handleSort(),\n      }\n      this.handleChange= this.handleChange.bind(this);\n      this.handleSubmit = this.handleSubmit.bind(this);\n      this.handlePChange = this.handlePChange.bind(this);\n      this.handleCChange = this.handleCChange.bind(this);\n  }\n  componentDidMount() {\n    this.interval = setInterval(() => this.setState({ }), 1000);\n    console.log(\"hi\");\n    this.fetchUsers()\n        .then(res => this.setState(\n            {\n              users:res\n            }\n        ))\n        .catch(err => console.log(err));\n  }\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n  handleChange(event){\n\n      this.setState({\n          email: event.target.value\n      });\n  }\n\n  handlePChange(event){\n      this.setState({\n          password: event.target.value\n      });\n  }\n  handleCChange(event){\n      this.setState({\n          confirm: event.target.value\n      });\n  }\n\n\n  handleSubmit(event){\n      console.log(this.state.users)\n        event.preventDefault();\n      if(this.state.email == ''){\n          alert('Email input required')\n      }\n      else if(this.state.password == ''){\n          alert('Password input required')\n      }\n      else if(this.state.password != this.state.confirm){\n          alert('Confirm password does not match Password')\n      }\n      else{\n        const found = this.state.users.some(element =>{\n            if(element.userEmail == this.state.email){\n                return true;\n            }\n            return false;\n        });\n        if(found){\n            alert('Email is already in use');\n        }\n        else{\n            this.createUser();\n            setEMAIL(this.state.email);\n            setLOGIN(true);\n            setSOLVED(false);\n            setTIME(0);\n        }\n        \n      }\n      \n      \n  }\n\n  createUser = async() => {\n    try{\n        let res = await fetch('/api/sudokleQueries/addUser', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n                userEmail: this.state.email,\n                pass: this.state.password\n            }),\n        });\n    }\n    catch (e) {\n        console.log(e);\n    }\n    };\n    fetchUsers = async () => {\n        const response = await fetch('/api/sudokleQueries/getUsers');\n        const body = response.json();\n        return body;\n      };\n    \n      handleSort = async () =>{\n        console.log(\"hi\");\n        this.fetchUsers()\n            .then(res => this.setState(\n                {\n                  users:res\n                }\n            ))\n            .catch(err => console.log(err));\n    }\n    ShowSignUp = () => (\n        <header className=\"App-header\">\n\n            <h1>Sign Up</h1>\n            <Container>\n                <div id=\"loginform\">\n                    <form onSubmit={this.handleSubmit}>\n                        <p>Email:</p>\n                        <input type=\"text\" value={this.state.email} onChange={this.handleChange} placeholder=\"example@gmail.com\"/>\n                        <br></br>\n                        <p>Password:</p>\n                        <input type=\"password\" value={this.state.password} onChange={this.handlePChange}/>\n                        <br></br>\n                        <p>Confirm Password:</p>\n                        <input type=\"password\" value={this.state.confirm} onChange={this.handleCChange}/>\n                        <br></br>\n                        <input id=\"submitbtn\" type=\"submit\" value=\"Submit\"/>\n                    </form>\n                </div>\n              \n            </Container>\n\n          </header>\n    );\n    \n    // ShowHomeButton = () => (\n    //     <header className=\"App-header\">\n    //       <h1>Welcome {EMAIL}</h1>\n    //     <Button id=\"playbtn\">\n    //           <Link to=\"/\" id=\"playLink\">\n    //               Go back Home\n    //           </Link>\n    //     </Button>\n    //     </header>\n    // );\n\n  render() {\n    return (\n        <div className=\"App\">\n          {LOGIN ? <Navigate to=\"/\"/> : <this.ShowSignUp /> }\n        </div>\n    );\n  }\n}\n\nexport default SignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}